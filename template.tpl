___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "IpMeta.io for GA4",
  "categories": [
    "ANALYTICS"
  ],
  "brand": {
    "id": "github.com_henkisdabro",
    "displayName": "wookstar",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "Get \u0027Service Provider\u0027 and \u0027Network Domain\u0027 dimensions back into your GA4 properties and register them as custom dimensions. Library and service is provided by ipmeta.io.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "sourceUrl",
    "displayName": "IpMeta Library Source URL",
    "simpleValueType": true,
    "defaultValue": "https://ipmeta.io/plugin.js",
    "valueValidators": [
      {
        "type": "REGEX",
        "args": [
          "^https?:\\/\\/.*$"
        ]
      }
    ],
    "help": "Unlikely this URL never needs to change from the default. Double-check against the `src` attribute in the IpMeta code snippet provided during account creation and instructions on the ipmeta.io website."
  },
  {
    "type": "TEXT",
    "name": "ipmetaApiKey",
    "displayName": "IpMeta API Key",
    "simpleValueType": true,
    "canBeEmptyString": true,
    "help": "An API key is optional and you may leave this field empty. Adding an API key will enrich and push more visitor data into the dataLayer. Register an account at ipmeta.io to get one.",
    "alwaysInSummary": true,
    "notSetText": "IpMeta will work without entering a value here, but the data provided will be limited without an API key."
  },
  {
    "type": "CHECKBOX",
    "name": "debug",
    "checkboxText": "Log debug messages to console",
    "simpleValueType": true,
    "alwaysInSummary": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const logToConsole = require('logToConsole');
const queryPermission = require('queryPermission');
const copyFromWindow = require('copyFromWindow');
const url = data.sourceUrl;
const apiKey = data.ipmetaApiKey;

// If the user chose to log debug output, initialize the logging method
const log = data.debug ? logToConsole : (() => {});
log('IpMeta: Loading script from ' + url);

// If the script fails to load, log a message and signal failure
const onFailure = () => {
  log('IpMeta: Script load failed.');
  data.gtmOnFailure();
};

// If the script loaded successfully, log a message and signal success
const onSuccess = () => {
  log('IpMeta: Script loaded successfully.');
  const IpMetaGa4 = copyFromWindow('IpMetaGa4');
  IpMetaGa4({
    gtmEventKey: 'ipmeta_loaded',
    apiKey: apiKey
  });
  log('IpMeta: GTM event name "ipmeta_loaded" should be in the dataLayer if successful');
  data.gtmOnSuccess();
};


// If the URL input by the user matches the permissions set for the template,
// inject the script with the onSuccess and onFailure methods as callbacks.
if (queryPermission('inject_script', url)) {
  injectScript(url, onSuccess, onFailure);
} else {
  log('IpMeta: Script load failed due to permissions mismatch.');
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "all"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://ipmeta.io/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "IpMetaGa4"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 12/08/2022, 15:22:50


